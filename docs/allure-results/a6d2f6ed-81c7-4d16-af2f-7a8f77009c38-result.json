{"name": "test_job_link_content[apavital]", "status": "failed", "statusDetails": {"message": "AssertionError: The following job links ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-agent-servicii-client--in-cadrul-sectorului-comercial-moldova-punct-de-lucru-municipiul-roman', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-electrician-in-cadrul-sectiei-epurare--statia-epurare-harlau', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-operator-la-tratarea-si-epurarea-apelor-uzate-in-cadrul-statiei-de-epurare-iasi-sectiei-epurare', 'https://www.apavital.ro/cariere/doua-posturi-de-instalator-apa-canal-in-cadrul-sectiei-lte', 'https://www.apavital.ro/cariere/doua--posturi-de-instalator-apa--canal-in-cadrul--atelierului-gestiune-contoare-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/doua-posturi-de-instalator-apa--canal-in-cadrul--compartimentului-de-verificare-tehnica-si-comerciala--punct-de-lucru-roman', 'https://www.apavital.ro/cariere/rezultate-concurs-un-post-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/rezultate-finale-concurs-economist-serviciul-contabilitate-si-concurs-economist-serviciul-financiar-analiza-economica', 'https://www.apavital.ro/cariere/rezultate-proba-scrisa-concurs-1-post-economist-serviciul-contabilitate-si-concurs-1-post-economist-serviciul-financiar-analiza-economica', 'https://www.apavital.ro/cariere/un-post-de-masinist-la-masini-pentru-terasamente-in-cadrul-sectiei-auto-mecanice-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/un-post-de-sudor-in-cadrul-sectorului-operational-bahlui'] do not contain the expected job title: ['Concurs pentru ocuparea unui post de agent servicii client în cadrul Sectorului Comercial Moldova (punct de lucru municipiul Roman)', 'Concurs pentru ocuparea unui post de electrician în cadrul Secţiei Epurare, Staţia epurare Hârlău', 'Concurs pentru ocuparea unui post de funcţionar informaţii clienţi – în cadrul Serviciului marketing, relaţii cu publicul', 'Concurs pentru ocuparea unui post de operator la tratarea şi epurarea apelor uzate în cadrul Statiei de Epurare Iasi, Secţiei Epurare', 'Doua posturi de instalator apă canal în cadrul Secţiei LTE', 'Două posturi de instalator apă- canal în cadrul Atelierului gestiune contoare (punct de lucru Roman)', 'Două posturi de instalator apă- canal în cadrul Compartimentului de verificare tehnica si comerciala (punct de lucru Roman)', 'Rezultate concurs un post de funcţionar informaţii clienţi în cadrul Serviciului marketing, relații cu publicul', 'Rezultate finale concurs economist/ Serviciul Contabilitate și concurs economist/ Serviciul Financiar-Analiză Economică', 'Rezultate proba scrisă - concurs 1 post economist Serviciul contabilitate și concurs 1 post economist Serviciul financiar, analiză economică', 'Un post de maşinist la masini pentru terasamente, în cadrul Secţiei Auto-Mecanice (punct de lucru Roman)', 'Un post de sudor în cadrul Sectorului Operațional Bahlui']", "trace": "self = <TestJobsValidator.test_api.TestScrapers object at 0x7f0adb1b7be0>\nsetup = (['Concurs pentru ocuparea unui post de agent servicii client în cadrul Sectorului Comercial Moldova (punct de lucru m...', 'Romania', 'Romania', 'Romania', 'Romania', ...], [['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ...])\n\n    @pytest.mark.smoke\n    def test_job_link_content(self, setup):\n        \"\"\"\n        Test job links for the job title presence in the html response output\n        \"\"\"\n    \n        peviitor_jobs_data = setup\n        job_links = peviitor_jobs_data[2]\n        job_titles = peviitor_jobs_data[0]\n>       TestScrapers.setup_tests.jobdetails.check_job_link_content(job_links, job_titles)\n\ntests/TestJobsValidator/test_api.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/TestJobsValidator/api_utils/job_details_utils.py:132: in check_job_link_content\n    self.linkutils.check_job_link_content(self, links, job_titles)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.TestJobsValidator.api_utils.job_links_utils.LinksTestUtils object at 0x7f0adb259000>\nmainobj = <tests.TestJobsValidator.api_utils.job_details_utils.JobDetails object at 0x7f0adc0c1ed0>\nlinks = ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-agent-servicii-client--in-cadrul-sectorului-com....ro/cariere/doua--posturi-de-instalator-apa--canal-in-cadrul--atelierului-gestiune-contoare-punct-de-lucru-roman', ...]\njob_titles = ['Concurs pentru ocuparea unui post de agent servicii client în cadrul Sectorului Comercial Moldova (punct de lucru mu...ţiei LTE', 'Două posturi de instalator apă- canal în cadrul Atelierului gestiune contoare (punct de lucru Roman)', ...]\n\n    def check_job_link_content(self, mainobj, links, job_titles):\n        missing_job_links = []\n        missing_job_titles = []\n        for link, job_title in zip(links, job_titles):\n            job_content = LinksTestUtils().get_html_content(link)\n    \n            # Section where the content is not loaded after the request\n            if job_content is None:\n                missing_job_links.append(link)\n                missing_job_titles.append(job_title)\n                print(\"Job Page content has not been loaded\")\n                for job_link_index, job_link in enumerate(mainobj.filtered_job_links):\n                    if job_link == link:\n                        mainobj.filtered_job_links[job_link_index] = 'REMOVED_JOB'\n                continue\n    \n            # Section that run in case the job page content is loaded\n            soup = BeautifulSoup(job_content, 'html.parser')\n            job_content = soup.get_text()\n            if job_title not in job_content:\n                missing_job_links.append(link)\n                missing_job_titles.append(job_title)\n                for job_link_index, job_link in enumerate(mainobj.filtered_job_links):\n                    if job_link == link:\n                        mainobj.filtered_job_links[job_link_index] = 'REMOVED_JOB'\n    \n>       assert missing_job_links == [], f\"The following job links {missing_job_links} do not contain the expected job title: {missing_job_titles}\"\nE       AssertionError: The following job links ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-agent-servicii-client--in-cadrul-sectorului-comercial-moldova-punct-de-lucru-municipiul-roman', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-electrician-in-cadrul-sectiei-epurare--statia-epurare-harlau', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-operator-la-tratarea-si-epurarea-apelor-uzate-in-cadrul-statiei-de-epurare-iasi-sectiei-epurare', 'https://www.apavital.ro/cariere/doua-posturi-de-instalator-apa-canal-in-cadrul-sectiei-lte', 'https://www.apavital.ro/cariere/doua--posturi-de-instalator-apa--canal-in-cadrul--atelierului-gestiune-contoare-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/doua-posturi-de-instalator-apa--canal-in-cadrul--compartimentului-de-verificare-tehnica-si-comerciala--punct-de-lucru-roman', 'https://www.apavital.ro/cariere/rezultate-concurs-un-post-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/rezultate-finale-concurs-economist-serviciul-contabilitate-si-concurs-economist-serviciul-financiar-analiza-economica', 'https://www.apavital.ro/cariere/rezultate-proba-scrisa-concurs-1-post-economist-serviciul-contabilitate-si-concurs-1-post-economist-serviciul-financiar-analiza-economica', 'https://www.apavital.ro/cariere/un-post-de-masinist-la-masini-pentru-terasamente-in-cadrul-sectiei-auto-mecanice-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/un-post-de-sudor-in-cadrul-sectorului-operational-bahlui'] do not contain the expected job title: ['Concurs pentru ocuparea unui post de agent servicii client în cadrul Sectorului Comercial Moldova (punct de lucru municipiul Roman)', 'Concurs pentru ocuparea unui post de electrician în cadrul Secţiei Epurare, Staţia epurare Hârlău', 'Concurs pentru ocuparea unui post de funcţionar informaţii clienţi – în cadrul Serviciului marketing, relaţii cu publicul', 'Concurs pentru ocuparea unui post de operator la tratarea şi epurarea apelor uzate în cadrul Statiei de Epurare Iasi, Secţiei Epurare', 'Doua posturi de instalator apă canal în cadrul Secţiei LTE', 'Două posturi de instalator apă- canal în cadrul Atelierului gestiune contoare (punct de lucru Roman)', 'Două posturi de instalator apă- canal în cadrul Compartimentului de verificare tehnica si comerciala (punct de lucru Roman)', 'Rezultate concurs un post de funcţionar informaţii clienţi în cadrul Serviciului marketing, relații cu publicul', 'Rezultate finale concurs economist/ Serviciul Contabilitate și concurs economist/ Serviciul Financiar-Analiză Economică', 'Rezultate proba scrisă - concurs 1 post economist Serviciul contabilitate și concurs 1 post economist Serviciul financiar, analiză economică', 'Un post de maşinist la masini pentru terasamente, în cadrul Secţiei Auto-Mecanice (punct de lucru Roman)', 'Un post de sudor în cadrul Sectorului Operațional Bahlui']\n\ntests/TestJobsValidator/api_utils/job_links_utils.py:59: AssertionError"}, "description": "\n        Test job links for the job title presence in the html response output\n        ", "attachments": [{"name": "stdout", "source": "fdb00ad9-bc98-45bc-abe7-d1f3cb460ea1-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "scraper_class", "value": "'apavital'"}], "start": 1734153191819, "stop": 1734153207868, "uuid": "5ba3595f-48e0-4ae6-b69c-b44d645a8dce", "historyId": "5e86bf619dfd3c351dc24da62c3e1851", "testCaseId": "3a863062a3835cf6b2ad4e16e5390871", "fullName": "tests.TestJobsValidator.test_api.TestScrapers#test_job_link_content", "labels": [{"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "tests.TestJobsValidator"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestScrapers"}, {"name": "host", "value": "fv-az1772-436"}, {"name": "thread", "value": "1866-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.TestJobsValidator.test_api"}]}