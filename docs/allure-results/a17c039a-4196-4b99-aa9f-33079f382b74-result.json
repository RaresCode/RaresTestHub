{"name": "test_job_link_content[apavital]", "status": "failed", "statusDetails": {"message": "AssertionError: The following job links ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-a-doua-posturi-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-economist-in-cadrul-serviciului-contabilitate', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-economist-in-cadrul-serviciului-financiar-analiza-economica', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-laborant-chimist-in-cadrul-laboratorului-apa-uzata', 'https://www.apavital.ro/cariere/doua--posturi-de-instalator-apa--canal-in-cadrul--atelierului-gestiune-contoare-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/doua-posturi-de-instalator-apa--canal-in-cadrul--compartimentului-de-verificare-tehnica-si-comerciala--punct-de-lucru-roman', 'https://www.apavital.ro/cariere/un-post-de-instalator-apa-canal-in-cadrul-sectiei-lte', 'https://www.apavital.ro/cariere/un-post-de-instalator-in-cadrul-sectorului-comercial-bahlui--zona-targu-frumos', 'https://www.apavital.ro/cariere/un-post-de-laborant-chimist-in-cadrul-sectiei-captare-tratare-apa-punct-de-lucru-statia-de-tratare-apa-potabila-timisesti', 'https://www.apavital.ro/cariere/un-post-de-masinist-la-masini-pentru-terasamente-in-cadrul-sectiei-auto-mecanice-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/un-post-de-sudor-in-cadrul-sectorului-operational-bahlui'] do not contain the expected job title: ['Concurs pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing, Relaţii cu Publicul', 'Concurs pentru ocuparea unui post de economist în cadrul Serviciului Contabilitate', 'Concurs pentru ocuparea unui post de economist în cadrul Serviciului Financiar Analiză Economică', 'Concurs pentru ocuparea unui post de laborant chimist în cadrul Laboratorului apa uzată', 'Două posturi de instalator apă- canal în cadrul Atelierului gestiune contoare (punct de lucru Roman)', 'Două posturi de instalator apă- canal în cadrul Compartimentului de verificare tehnica si comerciala (punct de lucru Roman)', 'Un post de instalator apă canal în cadrul Secţiei LTE', 'Un post de instalator în cadrul Sectorului comercial Bahlui (zona Târgu Frumos)', 'Un post de laborant chimist în cadrul Secţiei Captare Tratare Apă (punct de lucru Staţia de tratare apă potabilă Timişeşti)', 'Un post de maşinist la masini pentru terasamente, în cadrul Secţiei Auto-Mecanice (punct de lucru Roman)', 'Un post de sudor în cadrul Sectorului Operațional Bahlui']", "trace": "self = <TestJobsValidator.test_api.TestScrapers object at 0x7f7ae803dab0>\nsetup = (['Concurs pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing, Relaţii cu...', 'Romania', 'Romania', 'Romania', 'Romania', ...], [['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ...])\n\n    @pytest.mark.smoke\n    def test_job_link_content(self, setup):\n        \"\"\"\n        Test job links for the job title presence in the html response output\n        \"\"\"\n    \n        peviitor_jobs_data = setup\n        job_links = peviitor_jobs_data[2]\n        job_titles = peviitor_jobs_data[0]\n>       TestScrapers.setup_tests.jobdetails.check_job_link_content(job_links, job_titles)\n\ntests/TestJobsValidator/test_api.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/TestJobsValidator/api_utils/job_details_utils.py:132: in check_job_link_content\n    self.linkutils.check_job_link_content(self, links, job_titles)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.TestJobsValidator.api_utils.job_links_utils.LinksTestUtils object at 0x7f7ae803d000>\nmainobj = <tests.TestJobsValidator.api_utils.job_details_utils.JobDetails object at 0x7f7ae8ea1e70>\nlinks = ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-a-doua-posturi-de-functionar-informatii-clienti-in-cadrul-se...i-de-instalator-apa--canal-in-cadrul--compartimentului-de-verificare-tehnica-si-comerciala--punct-de-lucru-roman', ...]\njob_titles = ['Concurs pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing, Relaţii cu ...i de instalator apă- canal în cadrul Compartimentului de verificare tehnica si comerciala (punct de lucru Roman)', ...]\n\n    def check_job_link_content(self, mainobj, links, job_titles):\n        missing_job_links = []\n        missing_job_titles = []\n        for link, job_title in zip(links, job_titles):\n            job_content = LinksTestUtils().get_html_content(link)\n    \n            # Section where the content is not loaded after the request\n            if job_content is None:\n                missing_job_links.append(link)\n                missing_job_titles.append(job_title)\n                print(\"Job Page content has not been loaded\")\n                for job_link_index, job_link in enumerate(mainobj.filtered_job_links):\n                    if job_link == link:\n                        mainobj.filtered_job_links[job_link_index] = 'REMOVED_JOB'\n                continue\n    \n            # Section that run in case the job page content is loaded\n            soup = BeautifulSoup(job_content, 'html.parser')\n            job_content = soup.get_text()\n            if job_title not in job_content:\n                missing_job_links.append(link)\n                missing_job_titles.append(job_title)\n                for job_link_index, job_link in enumerate(mainobj.filtered_job_links):\n                    if job_link == link:\n                        mainobj.filtered_job_links[job_link_index] = 'REMOVED_JOB'\n    \n>       assert missing_job_links == [], f\"The following job links {missing_job_links} do not contain the expected job title: {missing_job_titles}\"\nE       AssertionError: The following job links ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-a-doua-posturi-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-economist-in-cadrul-serviciului-contabilitate', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-economist-in-cadrul-serviciului-financiar-analiza-economica', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-laborant-chimist-in-cadrul-laboratorului-apa-uzata', 'https://www.apavital.ro/cariere/doua--posturi-de-instalator-apa--canal-in-cadrul--atelierului-gestiune-contoare-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/doua-posturi-de-instalator-apa--canal-in-cadrul--compartimentului-de-verificare-tehnica-si-comerciala--punct-de-lucru-roman', 'https://www.apavital.ro/cariere/un-post-de-instalator-apa-canal-in-cadrul-sectiei-lte', 'https://www.apavital.ro/cariere/un-post-de-instalator-in-cadrul-sectorului-comercial-bahlui--zona-targu-frumos', 'https://www.apavital.ro/cariere/un-post-de-laborant-chimist-in-cadrul-sectiei-captare-tratare-apa-punct-de-lucru-statia-de-tratare-apa-potabila-timisesti', 'https://www.apavital.ro/cariere/un-post-de-masinist-la-masini-pentru-terasamente-in-cadrul-sectiei-auto-mecanice-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/un-post-de-sudor-in-cadrul-sectorului-operational-bahlui'] do not contain the expected job title: ['Concurs pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing, Relaţii cu Publicul', 'Concurs pentru ocuparea unui post de economist în cadrul Serviciului Contabilitate', 'Concurs pentru ocuparea unui post de economist în cadrul Serviciului Financiar Analiză Economică', 'Concurs pentru ocuparea unui post de laborant chimist în cadrul Laboratorului apa uzată', 'Două posturi de instalator apă- canal în cadrul Atelierului gestiune contoare (punct de lucru Roman)', 'Două posturi de instalator apă- canal în cadrul Compartimentului de verificare tehnica si comerciala (punct de lucru Roman)', 'Un post de instalator apă canal în cadrul Secţiei LTE', 'Un post de instalator în cadrul Sectorului comercial Bahlui (zona Târgu Frumos)', 'Un post de laborant chimist în cadrul Secţiei Captare Tratare Apă (punct de lucru Staţia de tratare apă potabilă Timişeşti)', 'Un post de maşinist la masini pentru terasamente, în cadrul Secţiei Auto-Mecanice (punct de lucru Roman)', 'Un post de sudor în cadrul Sectorului Operațional Bahlui']\n\ntests/TestJobsValidator/api_utils/job_links_utils.py:59: AssertionError"}, "description": "\n        Test job links for the job title presence in the html response output\n        ", "attachments": [{"name": "stdout", "source": "830372ce-58ef-4e4d-8965-0d6b98771e7f-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "scraper_class", "value": "'apavital'"}], "start": 1731820592095, "stop": 1731820601410, "uuid": "d2a9b02d-6588-4a92-b7f9-2cf527c4739d", "historyId": "5e86bf619dfd3c351dc24da62c3e1851", "testCaseId": "3a863062a3835cf6b2ad4e16e5390871", "fullName": "tests.TestJobsValidator.test_api.TestScrapers#test_job_link_content", "labels": [{"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "tests.TestJobsValidator"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestScrapers"}, {"name": "host", "value": "fv-az519-73"}, {"name": "thread", "value": "1912-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.TestJobsValidator.test_api"}]}