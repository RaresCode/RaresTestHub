{"name": "test_job_link_content[apavital]", "status": "failed", "statusDetails": {"message": "AssertionError: The following job links ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-a-doua-posturi-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-agent-servicii-client--in-cadrul-sectorului-comercial-moldova-punct-de-lucru-municipiul-roman', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-economist-in-cadrul-serviciului-contabilitate', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-economist-in-cadrul-serviciului-financiar-analiza-economica', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-laborant-chimist-in-cadrul-laboratorului-apa-uzata', 'https://www.apavital.ro/cariere/doua--posturi-de-instalator-apa--canal-in-cadrul--atelierului-gestiune-contoare-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/doua-posturi-de-instalator-apa--canal-in-cadrul--compartimentului-de-verificare-tehnica-si-comerciala--punct-de-lucru-roman', 'https://www.apavital.ro/cariere/rezultate-finale-concurs-pentru-ocuparea-unui-post-de-laborant-chimist-in-cadrul-laboratorului-apa-uzata', 'https://www.apavital.ro/cariere/rezultatele-concursului-pentru-ocuparea-a-doua-posturi-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/un-post-de-instalator-apa-canal-in-cadrul-sectiei-lte', 'https://www.apavital.ro/cariere/un-post-de-laborant-chimist-in-cadrul-sectiei-captare-tratare-apa-punct-de-lucru-statia-de-tratare-apa-potabila-timisesti', 'https://www.apavital.ro/cariere/un-post-de-masinist-la-masini-pentru-terasamente-in-cadrul-sectiei-auto-mecanice-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/un-post-de-sudor-in-cadrul-sectorului-operational-bahlui'] do not contain the expected job title: ['Concurs pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing, Relaţii cu Publicul', 'Concurs pentru ocuparea unui post de agent servicii client în cadrul Sectorului Comercial Moldova (punct de lucru municipiul Roman)', 'Concurs pentru ocuparea unui post de economist în cadrul Serviciului Contabilitate', 'Concurs pentru ocuparea unui post de economist în cadrul Serviciului Financiar Analiză Economică', 'Concurs pentru ocuparea unui post de laborant chimist în cadrul Laboratorului apa uzată', 'Două posturi de instalator apă- canal în cadrul Atelierului gestiune contoare (punct de lucru Roman)', 'Două posturi de instalator apă- canal în cadrul Compartimentului de verificare tehnica si comerciala (punct de lucru Roman)', 'Rezultate finale Concurs pentru ocuparea unui post de laborant chimist în cadrul Laboratorului apa uzată', 'Rezultatele concursului pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing Relaţii cu Publicul', 'Un post de instalator apă canal în cadrul Secţiei LTE', 'Un post de laborant chimist în cadrul Secţiei Captare Tratare Apă (punct de lucru Staţia de tratare apă potabilă Timişeşti)', 'Un post de maşinist la masini pentru terasamente, în cadrul Secţiei Auto-Mecanice (punct de lucru Roman)', 'Un post de sudor în cadrul Sectorului Operațional Bahlui']", "trace": "self = <TestJobsValidator.test_api.TestScrapers object at 0x7fef3b11c6a0>\nsetup = (['Concurs pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing, Relaţii cu...', 'Romania', 'Romania', 'Romania', 'Romania', ...], [['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ['Iasi'], ...])\n\n    @pytest.mark.smoke\n    def test_job_link_content(self, setup):\n        \"\"\"\n        Test job links for the job title presence in the html response output\n        \"\"\"\n    \n        peviitor_jobs_data = setup\n        job_links = peviitor_jobs_data[2]\n        job_titles = peviitor_jobs_data[0]\n>       TestScrapers.setup_tests.jobdetails.check_job_link_content(job_links, job_titles)\n\ntests/TestJobsValidator/test_api.py:53: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/TestJobsValidator/api_utils/job_details_utils.py:132: in check_job_link_content\n    self.linkutils.check_job_link_content(self, links, job_titles)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.TestJobsValidator.api_utils.job_links_utils.LinksTestUtils object at 0x7fef3b094100>\nmainobj = <tests.TestJobsValidator.api_utils.job_details_utils.JobDetails object at 0x7fef3c115de0>\nlinks = ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-a-doua-posturi-de-functionar-informatii-clienti-in-cadrul-se....ro/cariere/doua--posturi-de-instalator-apa--canal-in-cadrul--atelierului-gestiune-contoare-punct-de-lucru-roman', ...]\njob_titles = ['Concurs pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing, Relaţii cu ...pa uzată', 'Două posturi de instalator apă- canal în cadrul Atelierului gestiune contoare (punct de lucru Roman)', ...]\n\n    def check_job_link_content(self, mainobj, links, job_titles):\n        missing_job_links = []\n        missing_job_titles = []\n        for link, job_title in zip(links, job_titles):\n            job_content = LinksTestUtils().get_html_content(link)\n    \n            # Section where the content is not loaded after the request\n            if job_content is None:\n                missing_job_links.append(link)\n                missing_job_titles.append(job_title)\n                print(\"Job Page content has not been loaded\")\n                for job_link_index, job_link in enumerate(mainobj.filtered_job_links):\n                    if job_link == link:\n                        mainobj.filtered_job_links[job_link_index] = 'REMOVED_JOB'\n                continue\n    \n            # Section that run in case the job page content is loaded\n            soup = BeautifulSoup(job_content, 'html.parser')\n            job_content = soup.get_text()\n            if job_title not in job_content:\n                missing_job_links.append(link)\n                missing_job_titles.append(job_title)\n                for job_link_index, job_link in enumerate(mainobj.filtered_job_links):\n                    if job_link == link:\n                        mainobj.filtered_job_links[job_link_index] = 'REMOVED_JOB'\n    \n>       assert missing_job_links == [], f\"The following job links {missing_job_links} do not contain the expected job title: {missing_job_titles}\"\nE       AssertionError: The following job links ['https://www.apavital.ro/cariere/concurs-pentru-ocuparea-a-doua-posturi-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-agent-servicii-client--in-cadrul-sectorului-comercial-moldova-punct-de-lucru-municipiul-roman', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-economist-in-cadrul-serviciului-contabilitate', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-economist-in-cadrul-serviciului-financiar-analiza-economica', 'https://www.apavital.ro/cariere/concurs-pentru-ocuparea-unui-post-de-laborant-chimist-in-cadrul-laboratorului-apa-uzata', 'https://www.apavital.ro/cariere/doua--posturi-de-instalator-apa--canal-in-cadrul--atelierului-gestiune-contoare-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/doua-posturi-de-instalator-apa--canal-in-cadrul--compartimentului-de-verificare-tehnica-si-comerciala--punct-de-lucru-roman', 'https://www.apavital.ro/cariere/rezultate-finale-concurs-pentru-ocuparea-unui-post-de-laborant-chimist-in-cadrul-laboratorului-apa-uzata', 'https://www.apavital.ro/cariere/rezultatele-concursului-pentru-ocuparea-a-doua-posturi-de-functionar-informatii-clienti-in-cadrul-serviciului-marketing-relatii-cu-publicul', 'https://www.apavital.ro/cariere/un-post-de-instalator-apa-canal-in-cadrul-sectiei-lte', 'https://www.apavital.ro/cariere/un-post-de-laborant-chimist-in-cadrul-sectiei-captare-tratare-apa-punct-de-lucru-statia-de-tratare-apa-potabila-timisesti', 'https://www.apavital.ro/cariere/un-post-de-masinist-la-masini-pentru-terasamente-in-cadrul-sectiei-auto-mecanice-punct-de-lucru-roman', 'https://www.apavital.ro/cariere/un-post-de-sudor-in-cadrul-sectorului-operational-bahlui'] do not contain the expected job title: ['Concurs pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing, Relaţii cu Publicul', 'Concurs pentru ocuparea unui post de agent servicii client în cadrul Sectorului Comercial Moldova (punct de lucru municipiul Roman)', 'Concurs pentru ocuparea unui post de economist în cadrul Serviciului Contabilitate', 'Concurs pentru ocuparea unui post de economist în cadrul Serviciului Financiar Analiză Economică', 'Concurs pentru ocuparea unui post de laborant chimist în cadrul Laboratorului apa uzată', 'Două posturi de instalator apă- canal în cadrul Atelierului gestiune contoare (punct de lucru Roman)', 'Două posturi de instalator apă- canal în cadrul Compartimentului de verificare tehnica si comerciala (punct de lucru Roman)', 'Rezultate finale Concurs pentru ocuparea unui post de laborant chimist în cadrul Laboratorului apa uzată', 'Rezultatele concursului pentru ocuparea a două posturi de funcţionar informaţii clienţi în cadrul Serviciului Marketing Relaţii cu Publicul', 'Un post de instalator apă canal în cadrul Secţiei LTE', 'Un post de laborant chimist în cadrul Secţiei Captare Tratare Apă (punct de lucru Staţia de tratare apă potabilă Timişeşti)', 'Un post de maşinist la masini pentru terasamente, în cadrul Secţiei Auto-Mecanice (punct de lucru Roman)', 'Un post de sudor în cadrul Sectorului Operațional Bahlui']\n\ntests/TestJobsValidator/api_utils/job_links_utils.py:59: AssertionError"}, "description": "\n        Test job links for the job title presence in the html response output\n        ", "attachments": [{"name": "stdout", "source": "59059f3a-8f2c-4f63-b71e-9d889f9869d8-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "scraper_class", "value": "'apavital'"}], "start": 1733234068580, "stop": 1733234078956, "uuid": "fdeac366-ae35-4bc0-a61e-d9c11855f7a2", "historyId": "5e86bf619dfd3c351dc24da62c3e1851", "testCaseId": "3a863062a3835cf6b2ad4e16e5390871", "fullName": "tests.TestJobsValidator.test_api.TestScrapers#test_job_link_content", "labels": [{"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "tests.TestJobsValidator"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestScrapers"}, {"name": "host", "value": "fv-az976-847"}, {"name": "thread", "value": "1914-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.TestJobsValidator.test_api"}]}